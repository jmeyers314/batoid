

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Optics &mdash; batoid 0.1.0rc2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Coordinate Systems" href="coords.html" />
    <link rel="prev" title="Surfaces" href="surfaces.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> batoid
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="rays.html">Rays</a></li>
<li class="toctree-l1"><a class="reference internal" href="surfaces.html">Surfaces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optics</a></li>
<li class="toctree-l1"><a class="reference internal" href="coords.html">Coordinate Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="obscurations.html">Obscurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="media.html">Media</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Lookup tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="coatings.html">Coatings</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="lattice.html">Lattices</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">batoid</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Optics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/optic.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="optics">
<h1>Optics<a class="headerlink" href="#optics" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="batoid.Optic">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Optic</code><span class="sig-paren">(</span><em class="sig-param">name=None, coordSys=CoordSys([0,0,0],[[1,0,0],[0,1,0],[0,0,1]]), inMedium=ConstMedium(1), outMedium=ConstMedium(1), skip=False, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Optic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Optic" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for all varieties of batoid optics and optical systems.</p>
<p>An <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> can include anything from a single reflective or refractive
surface to an entire telescope including multiple mirrors and/or lenses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str, optional</em>) – An name for this optic</p></li>
<li><p><strong>inMedium</strong> (<a class="reference internal" href="media.html#batoid.Medium" title="batoid.Medium"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Medium</span></code></a>, optional) – Medium in which approaching rays reside.  Default: vacuum.</p></li>
<li><p><strong>outMedium</strong> (<a class="reference internal" href="media.html#batoid.Medium" title="batoid.Medium"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Medium</span></code></a>, optional) – Medium in which rays will leave this optic.  Default: vacuum.</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>, optional) – Coordinate system indicating the position and orientation of this
optic’s vertex with respect to the global coordinate system.  Default:
the global coordinate system.</p></li>
<li><p><strong>skip</strong> (<em>bool, optional</em>) – Whether or not to skip this optic when tracing.  This can be useful if
you want to trace only through part of a compound optic.  Default:
False.</p></li>
<li><p><strong>**kwargs</strong> (<em>other</em>) – Other attributes to add as object attributes.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="batoid.Optic.fromYaml">
<em class="property">classmethod </em><code class="sig-name descname">fromYaml</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Optic.fromYaml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Optic.fromYaml" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> (commonly a complete telescope) from the given yaml
file.  This is the most common way to create an <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a>.  If the file
is not initially found, then look in the <code class="docutils literal notranslate"><span class="pre">batoid.datadir</span></code> directory
and subdirectories for the first matching filename and use that.</p>
<p>Look in <code class="docutils literal notranslate"><span class="pre">batoid.datadir</span></code> for examples of how to format a batoid optic
yaml file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Name of yaml file to load</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="batoid.Interface">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Interface</code><span class="sig-paren">(</span><em class="sig-param">surface</em>, <em class="sig-param">obscuration=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Optic</span></code></p>
<p>An <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> representing a single surface.  Almost always one of the
concrete subclasses (<a class="reference internal" href="#batoid.Mirror" title="batoid.Mirror"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Mirror</span></code></a>, <a class="reference internal" href="#batoid.RefractiveInterface" title="batoid.RefractiveInterface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RefractiveInterface</span></code></a>, <a class="reference internal" href="#batoid.Baffle" title="batoid.Baffle"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Baffle</span></code></a>, <a class="reference internal" href="#batoid.Detector" title="batoid.Detector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Detector</span></code></a>)
should be instantiated, depending on whether rays should reflect, refract,
vignette/pass-through, or stop at this surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surface</strong> (<a class="reference internal" href="surfaces.html#batoid.Surface" title="batoid.Surface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Surface</span></code></a>) – The surface instance for this Interface.</p></li>
<li><p><strong>obscuration</strong> (<a class="reference internal" href="obscurations.html#batoid.Obscuration" title="batoid.Obscuration"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Obscuration</span></code></a>, optional) – <a class="reference internal" href="obscurations.html#batoid.Obscuration" title="batoid.Obscuration"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Obscuration</span></code></a> instance indicating which x,y coordinates are
obscured/unobscured for rays intersecting this optic.  Default: None,
which means don’t apply any ray obscuration.</p></li>
<li><p><strong>**kwargs</strong> – Other parameters to forward to <code class="docutils literal notranslate"><span class="pre">Optic.__init__</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="batoid.Interface.draw3d">
<code class="sig-name descname">draw3d</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.draw3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.draw3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw this interface on a mplot3d axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>mplot3d.Axis</em>) – Axis on which to draw this optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.getXZSlice">
<code class="sig-name descname">getXZSlice</code><span class="sig-paren">(</span><em class="sig-param">nslice=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.getXZSlice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.getXZSlice" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate global coordinates for an (x,z) slice through this
interface.</p>
<p>The calculation is split into two half slices: xlocal &lt;= 0 and xlocal
&gt;= 0.  When the inner radius is zero, these half slices are merged into
one.  Otherwise, the two half slices are returned separately.</p>
<p>If the local coordinate system involves any rotation the resulting
slice may not be calculated correctly since we are really slicing in
(xlocal, zlocal) then transforming these to (xglobal, zglobal).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nslice</strong> (<em>int</em>) – Use the specified number of points on each half slice. When zero,
the value will be calculated automatically (and will be 2 for
planar surfaces).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>tuple</em> – Tuple (xz1, xz2) of 1D arrays where xz1=[x1, z1] is the xlocal &lt;= 0
half slice and xz2=[x2, z2] is the xlocal &gt;= 0 half slice.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.draw2d">
<code class="sig-name descname">draw2d</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.draw2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.draw2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw this interface on a 2d matplotlib axis.
May not work if elements are non-circular or not axis-aligned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>matplotlib.axes.Axes</em>) – Axis on which to draw this optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.trace">
<code class="sig-name descname">trace</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a> – Output ray(s)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned rays will be expressed in the local coordinate system of the
Optic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays
in a different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.traceFull">
<code class="sig-name descname">traceFull</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.traceFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.traceFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element, returning a full history
of all surface intersections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>OrderedDict of dict</em> – There will be one key-value pair for every Interface traced
through (which for this class, is just a single Interface).  The
values will be dicts with key-value pairs:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'name'</span></code></dt><dd><p>name of Interface (str)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'in'</span></code></dt><dd><p>the incoming ray(s) to that Interface (Ray or RayVector)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'out'</span></code></dt><dd><p>the outgoing ray(s) from that Interface (Ray or RayVector)</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Pay careful attention to the coordinate systems of the returned rays.
These will generally differ from the original input coordinate system.
To transform to another coordinate system, see <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or
<a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.traceInPlace">
<code class="sig-name descname">traceInPlace</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.traceInPlace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.traceInPlace" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element in place (result replaces
input Ray or RayVector)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Ray or RayVector</em></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The return Ray or RayVector is present for convenience, but is actually
an alias for the input Ray or RayVector that has had its values
replaced.</p>
<p>Returned rays will be expressed in the local coordinate system of the
Optic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays
in a different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.traceReverse">
<code class="sig-name descname">traceReverse</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.traceReverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.traceReverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element in reverse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>Ray or RayVector</em></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>You may need to reverse the directions of rays before using this
method!</p>
<p>Returned rays will be expressed in the local coordinate system of the
Optic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays
in a different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.traceSplit">
<code class="sig-name descname">traceSplit</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">minFlux=0.001</em>, <em class="sig-param">_verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.traceSplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.traceSplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element, splitting the return
values into rays that continue propagating in the “forward” direction,
and those that were reflected into the “reverse” direction.  Fluxes of
output rays are proportional to reflection/transmission coefficients of
the interface (which may depend on wavelength and incidence angle).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Input ray(s) to trace</p></li>
<li><p><strong>minFlux</strong> (<em>float</em>) – Minimum flux value of ray(s) to continue propagating.
Default: 1e-3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>forwardRays</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Ray(s) propagating in the forward direction.</p></li>
<li><p><strong>reverseRays</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Ray(s) propagating in the reverse direction.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned rays will be expressed in the local coordinate system of the
Optic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays
in a different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.traceSplitReverse">
<code class="sig-name descname">traceSplitReverse</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">minFlux=0.001</em>, <em class="sig-param">_verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.traceSplitReverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.traceSplitReverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Trace ray(s) through this optical element, splitting the return
values into rays that propagate in the “forward” direction, and those
that propagate in the “reverse” direction.  Incoming rays are assumed
to be propagating in the reverse direction. Fluxes of output rays are
proportional to reflection/transmission coefficients of the  interface
(which may depend on wavelength and incidence angle).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Input ray(s) to trace</p></li>
<li><p><strong>minFlux</strong> (<em>float</em>) – Minimum flux value of ray(s) to continue propagating.
Default: 1e-3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>forwardRays</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Ray(s) propagating in the forward direction.</p></li>
<li><p><strong>reverseRays</strong> (<em>batoid.Ray or batoid.RayVector</em>) – Ray(s) propagating in the reverse direction.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned rays will be expressed in the local coordinate system of the
Optic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays
in a different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.withGlobalShift">
<code class="sig-name descname">withGlobalShift</code><span class="sig-paren">(</span><em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.withGlobalShift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.withGlobalShift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a> with its coordinate system shifted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shift</strong> (<em>array (3,)</em>) – The coordinate shift, relative to the global coordinate system, to
apply to self.coordSys</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Interface</span></code></a> – Shifted interface.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.withLocalRotation">
<code class="sig-name descname">withLocalRotation</code><span class="sig-paren">(</span><em class="sig-param">rot</em>, <em class="sig-param">rotOrigin=None</em>, <em class="sig-param">coordSys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.withLocalRotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.withLocalRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a> with its coordinate system rotated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rot</strong> (<em>array (3,3)</em>) – Rotation matrix wrt to the local coordinate system to apply.</p></li>
<li><p><strong>rotOrigin</strong> (<em>array (3,)</em>) – Origin of rotation.  Default: None means use [0,0,0]</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>) – Coordinate system of rotOrigin above.  Default: None means use
self.coordSys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Interface</span></code></a> – Rotated interface.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Interface.withSurface">
<code class="sig-name descname">withSurface</code><span class="sig-paren">(</span><em class="sig-param">surface</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Interface.withSurface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Interface.withSurface" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a> with its surface attribute replaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>surface</strong> (<a class="reference internal" href="surfaces.html#batoid.Surface" title="batoid.Surface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Surface</span></code></a>) – New replacement surface.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Interface</span></code></a> – Interface with new surface.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="batoid.Mirror">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Mirror</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Mirror"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Mirror" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Interface</span></code></p>
<p>Specialization for reflective interfaces.</p>
<p>Rays will interact with this surface by reflecting off of it.</p>
</dd></dl>

<dl class="class">
<dt id="batoid.RefractiveInterface">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">RefractiveInterface</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#RefractiveInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.RefractiveInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Interface</span></code></p>
<p>Specialization for refractive interfaces.</p>
<p>Rays will interact with this surface by refracting through it.</p>
</dd></dl>

<dl class="class">
<dt id="batoid.Baffle">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Baffle</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Baffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Baffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Interface</span></code></p>
<p>Specialization for baffle interfaces.</p>
<p>Rays will interact with this optic by passing straight through.  However,
the vignetting calculation will still be applied at this <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="batoid.Detector">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Detector</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Detector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Detector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Interface</span></code></p>
<p>Specialization for detector interfaces.</p>
<p>Rays will interact with this surface by passing through it.  Usually,
however, this is the last <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> in a <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>, so tracing will
stop with this <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a>.</p>
</dd></dl>

<dl class="class">
<dt id="batoid.CompoundOptic">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">CompoundOptic</code><span class="sig-paren">(</span><em class="sig-param">items</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.Optic</span></code></p>
<p>An <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> containing two or more <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a> s as subitems.</p>
<p>Ray traces will be carried out sequentially for the subitems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (list of <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Optic</span></code></a>) – Subitems making up this compound optic.</p></li>
<li><p><strong>**kwargs</strong> – Other parameters to forward to Optic.__init__</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="batoid.CompoundOptic.__getitem__">
<code class="sig-name descname">__getitem__</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary access to the entire hierarchy of subitems of this
<a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>.</p>
<p>Either access through the fully-qualified name
(<code class="docutils literal notranslate"><span class="pre">optic['LSST.LSSTCamera.L1']</span></code>) or by partially-qualified name
(<code class="docutils literal notranslate"><span class="pre">optic['LSSTCamera.L1']</span></code> or even <code class="docutils literal notranslate"><span class="pre">optic['L1']</span></code>).  Note that
partially-qualified name access is only available for unique
partially-qualified names.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.trace">
<code class="sig-name descname">trace</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace through all subitems of this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a> – Output ray(s)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned rays will be expressed in the local coordinate system of the
last element of the CompoundOptic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or
<a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays in a different coordinate
system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.traceFull">
<code class="sig-name descname">traceFull</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.traceFull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.traceFull" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace ray(s) through this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>, returning a
full history of all surface intersections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><em>OrderedDict of dict</em> – There will be one key-value pair for every Interface traced
through.  The values will be dicts with key-value pairs:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'name'</span></code></dt><dd><p>name of Interface (str)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'in'</span></code></dt><dd><p>the incoming ray(s) to that Interface (Ray or RayVector)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'out'</span></code></dt><dd><p>the outgoing ray(s) from that Interface (Ray or RayVector)</p>
</dd>
</dl>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Pay careful attention to the coordinate systems of the returned rays.
These will generally differ from the original input coordinate system.
To transform to another coordinate system, see <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or
<a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.traceInPlace">
<code class="sig-name descname">traceInPlace</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.traceInPlace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.traceInPlace" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace ray(s) through this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> in place
(result replaces input <a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RayVector</span></code></a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RayVector</span></code></a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The return <a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RayVector</span></code></a> is present for convenience, but is
actually an alias for the input <a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RayVector</span></code></a> that has had its
values replaced.</p>
<p>Returned rays will be expressed in the local coordinate system of the
last element of the CompoundOptic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or
<a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays in a different coordinate
system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.traceReverse">
<code class="sig-name descname">traceReverse</code><span class="sig-paren">(</span><em class="sig-param">r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.traceReverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.traceReverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace ray(s) through this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> in reverse.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">RayVector</span></code></a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>You may need to reverse the directions of rays before using this
method!</p>
<p>Returned rays will be expressed in the local coordinate system of the
first element of the CompoundOptic.  See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or
<a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays in a different coordinate
system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.traceSplit">
<code class="sig-name descname">traceSplit</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">minFlux=0.001</em>, <em class="sig-param">_verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.traceSplit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.traceSplit" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace ray(s) through this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>, splitting at
each surface.</p>
<p>The return values are rays that continuing in the “forward” direction,
and those reflected into the “reverse” direction.  Fluxes of output
rays are proportional to reflection/transmission coefficients of the
interface (which may depend on wavelength and incidence angle).  Note
that traceSplit is applied recursively, so a single call on a
<a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> may result in many combinations of
reflections/refractions being applied internally before rays are either
deleted by falling below the minFlux or reach the entrace/exit of the
<a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p></li>
<li><p><strong>minFlux</strong> (<em>float</em>) – Minimum flux value of ray(s) to continue propagating.
Default: 1e-3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>forwardRays</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Ray(s) propagating in the forward direction.</p></li>
<li><p><strong>reverseRays</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Ray(s) propagating in the reverse direction.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned forward (reverse) rays will be expressed in the local
coordinate system of the last (first) element of the CompoundOptic.
See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays in a
different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.traceSplitReverse">
<code class="sig-name descname">traceSplitReverse</code><span class="sig-paren">(</span><em class="sig-param">r</em>, <em class="sig-param">minFlux=0.001</em>, <em class="sig-param">_verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.traceSplitReverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.traceSplitReverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively trace ray(s) through this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> in reverse,
splitting at each surface.</p>
<p>The return values are both rays continuing in the “forward” direction,
and those reflected into the “reverse” direction.  Initially incoming
rays are assumed to be propagating in the reverse direction.  Fluxes of
output rays are proportional to reflection/transmission coefficients of
the interface (which may depend on wavelength and incidence angle).
Note that traceSplitReverse is applied recursively, so a single call on
a <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> may result in many combinations of
reflections/refractions being applied internally before rays are either
deleted by falling below the minFlux or reach the entrace/exit of the
<a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Input ray(s) to trace</p></li>
<li><p><strong>minFlux</strong> (<em>float</em>) – Minimum flux value of ray(s) to continue propagating.
Default: 1e-3.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>forwardRays</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Ray(s) propagating in the forward direction.</p></li>
<li><p><strong>reverseRays</strong> (<a class="reference internal" href="rays.html#batoid.Ray" title="batoid.Ray"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Ray</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector" title="batoid.RayVector"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.RayVector</span></code></a>) – Ray(s) propagating in the reverse direction.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Returned forward (reverse) rays will be expressed in the local
coordinate system of the first (last) element of the CompoundOptic.
See <a class="reference internal" href="rays.html#batoid.Ray.toCoordSys" title="batoid.Ray.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Ray.toCoordSys</span></code></a> or <a class="reference internal" href="rays.html#batoid.RayVector.toCoordSys" title="batoid.RayVector.toCoordSys"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">RayVector.toCoordSys</span></code></a> to express rays in a
different coordinate system.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.draw3d">
<code class="sig-name descname">draw3d</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.draw3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.draw3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively draw this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> on a mplot3d axis by drawing
all subitems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ax</strong> (<em>mplot3d.Axis</em>) – Axis on which to draw this optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.draw2d">
<code class="sig-name descname">draw2d</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.draw2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.draw2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a 2D slice of this <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> in the (x,z) plane.</p>
<p>Calls draw2d recursively on each of our items, with the actual
drawing taking place in Interface and (optionally) Lens instances.</p>
<p>The kwargs are passed to the drawing commands, except for the
optional keyword ‘only’ which restricts drawing to only instances
that are subclasses of a specified type or types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib.axes.Axes</em>) – Axis on which to draw this optic.</p></li>
<li><p><strong>only</strong> (<em>list</em>) – A list of types to draw, e.g., <a class="reference internal" href="#batoid.Mirror" title="batoid.Mirror"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Mirror</span></code></a>, or <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a>.
Default: None means to draw all types.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.withGlobalShift">
<code class="sig-name descname">withGlobalShift</code><span class="sig-paren">(</span><em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.withGlobalShift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.withGlobalShift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> with its coordinate system shifted (and
the coordinate systems of all subitems)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shift</strong> (<em>array (3,)</em>) – The coordinate shift, relative to the global coordinate system, to
apply to self.coordSys</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> – Shifted optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.withGloballyShiftedOptic">
<code class="sig-name descname">withGloballyShiftedOptic</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.withGloballyShiftedOptic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.withGloballyShiftedOptic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> with the coordinate system of one of
its subitems shifted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The subitem to shift.</p></li>
<li><p><strong>shift</strong> (<em>array (3,)</em>) – The coordinate shift, relative to the global coordinate system, to
apply to the subitem’s coordSys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CompoundOptic</span></code></a> – Optic with shifted subitem.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.withLocalRotation">
<code class="sig-name descname">withLocalRotation</code><span class="sig-paren">(</span><em class="sig-param">rot</em>, <em class="sig-param">rotOrigin=None</em>, <em class="sig-param">coordSys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.withLocalRotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.withLocalRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> with its coordinate system rotated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rot</strong> (<em>array (3,3)</em>) – Rotation matrix wrt to the local coordinate system to apply.</p></li>
<li><p><strong>rotOrigin</strong> (<em>array (3,)</em>) – Origin of rotation.  Default: None means use [0,0,0]</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>) – Coordinate system of rotOrigin above.  Default: None means use
self.coordSys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CompoundOptic</span></code></a> – Rotated optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.withLocallyRotatedOptic">
<code class="sig-name descname">withLocallyRotatedOptic</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">rot</em>, <em class="sig-param">rotOrigin=None</em>, <em class="sig-param">coordSys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.withLocallyRotatedOptic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.withLocallyRotatedOptic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> with the coordinate system of one of
its subitems rotated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The subitem to rotate.</p></li>
<li><p><strong>rot</strong> (<em>array (3,3)</em>) – Rotation matrix wrt to the subitem’s local coordinate system to
apply.</p></li>
<li><p><strong>rotOrigin</strong> (<em>array (3,)</em>) – Origin of rotation.  Default: None means use [0,0,0]</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>) – Coordinate system of rotOrigin above.  Default: None means use the
coordinate system of the subitem being rotated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CompoundOptic</span></code></a> – Optic with rotated subitem.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.CompoundOptic.withSurface">
<code class="sig-name descname">withSurface</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">surface</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#CompoundOptic.withSurface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.CompoundOptic.withSurface" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">CompoundOptic</span></code></a> with one of its subitem’s surfaces
attribute replaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Which subitem’s surface to replace.</p></li>
<li><p><strong>surface</strong> (<a class="reference internal" href="surfaces.html#batoid.Surface" title="batoid.Surface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Surface</span></code></a>) – New replacement surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.CompoundOptic" title="batoid.CompoundOptic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CompoundOptic</span></code></a> – Optic with new surface.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="batoid.Lens">
<em class="property">class </em><code class="sig-prename descclassname">batoid.</code><code class="sig-name descname">Lens</code><span class="sig-paren">(</span><em class="sig-param">items</em>, <em class="sig-param">medium</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">batoid.optic.CompoundOptic</span></code></p>
<p>An lens with two <a class="reference internal" href="#batoid.Interface" title="batoid.Interface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Interface</span></code></a> s as front and back surfaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (list of <a class="reference internal" href="#batoid.Optic" title="batoid.Optic"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Optic</span></code></a>, len (2,)) – Subitems making up this compound optic.</p></li>
<li><p><strong>medium</strong> (<a class="reference internal" href="media.html#batoid.Medium" title="batoid.Medium"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Medium</span></code></a>) – The refractive index medium internal to the lens.</p></li>
<li><p><strong>**kwargs</strong> – Other parameters to forward to Optic.__init__</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="batoid.Lens.draw2d">
<code class="sig-name descname">draw2d</code><span class="sig-paren">(</span><em class="sig-param">ax</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.draw2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.draw2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Specialized draw2d for <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> instances.</p>
<p>If the optional keyword ‘only’ equals <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a>, then fill the area
between the lens refractive interfaces using the remaining specified
kwargs (fc, ec, alpha, …)</p>
<p>Otherwise, call draw2d on each of our refractive interfaces.</p>
<p>The optional labelpos and fontdict kwargs are used to draw a label at
the specified x position (in global coords), using the specified font
properties.</p>
</dd></dl>

<dl class="method">
<dt id="batoid.Lens.withGlobalShift">
<code class="sig-name descname">withGlobalShift</code><span class="sig-paren">(</span><em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.withGlobalShift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.withGlobalShift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> with its coordinate system shifted (and the
coordinate systems of all subitems)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shift</strong> (<em>array (3,)</em>) – The coordinate shift, relative to the global coordinate system, to
apply to self.coordSys</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> – Shifted optic.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Lens.withGloballyShiftedOptic">
<code class="sig-name descname">withGloballyShiftedOptic</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">shift</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.withGloballyShiftedOptic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.withGloballyShiftedOptic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> with the coordinate system of one of its
subitems shifted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The subitem to shift.</p></li>
<li><p><strong>shift</strong> (<em>array (3,)</em>) – The coordinate shift, relative to the global coordinate system, to
apply to the subitem’s coordSys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a> – Lens with shifted surface.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Lens.withLocalRotation">
<code class="sig-name descname">withLocalRotation</code><span class="sig-paren">(</span><em class="sig-param">rot</em>, <em class="sig-param">rotOrigin=None</em>, <em class="sig-param">coordSys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.withLocalRotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.withLocalRotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> with its coordinate system rotated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rot</strong> (<em>array (3,3)</em>) – Rotation matrix wrt to the local coordinate system to apply.</p></li>
<li><p><strong>rotOrigin</strong> (<em>array (3,)</em>) – Origin of rotation.  Default: None means use [0,0,0]</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>) – Coordinate system of rotOrigin above.  Default: None means use
self.coordSys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a> – Rotated lens.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Lens.withLocallyRotatedOptic">
<code class="sig-name descname">withLocallyRotatedOptic</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">rot</em>, <em class="sig-param">rotOrigin=None</em>, <em class="sig-param">coordSys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.withLocallyRotatedOptic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.withLocallyRotatedOptic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> with the coordinate system of one of its
surfaces rotated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The subitem to rotate.</p></li>
<li><p><strong>rot</strong> (<em>array (3,3)</em>) – Rotation matrix wrt to the subitem’s local coordinate system to
apply.</p></li>
<li><p><strong>rotOrigin</strong> (<em>array (3,)</em>) – Origin of rotation.  Default: None means use [0,0,0]</p></li>
<li><p><strong>coordSys</strong> (<a class="reference internal" href="coords.html#batoid.CoordSys" title="batoid.CoordSys"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.CoordSys</span></code></a>) – Coordinate system of rotOrigin above.  Default: None means use the
coordinate system of the subitem being rotated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a> – Lens with rotated surface.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="batoid.Lens.withSurface">
<code class="sig-name descname">withSurface</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">surface</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/batoid/optic.html#Lens.withSurface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#batoid.Lens.withSurface" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new <a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Lens</span></code></a> with one of its surfaces replaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Which surface to replace.</p></li>
<li><p><strong>surface</strong> (<a class="reference internal" href="surfaces.html#batoid.Surface" title="batoid.Surface"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Surface</span></code></a>) – New replacement surface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><a class="reference internal" href="#batoid.Lens" title="batoid.Lens"><code class="xref any py py-class docutils literal notranslate"><span class="pre">batoid.Lens</span></code></a> – Lens with new surface.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="coords.html" class="btn btn-neutral float-right" title="Coordinate Systems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="surfaces.html" class="btn btn-neutral float-left" title="Surfaces" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Josh Meyers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>